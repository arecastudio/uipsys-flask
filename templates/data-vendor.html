{% extends 'layouts.html' %}

{% block title %}
	Data Vendor
{% endblock %}

{% block body %}

<div class="row">


<!--alert area -->
{% with messages = get_flashed_messages() %}
	{% if messages %}
		{% for message in messages %}
			<div class="col-lg-12">
				<div class="alert alert-warning alert-dismissable" role="alert">
					<button type="button" class="close" data-dismiss="alert" aria-label="close">
						<span aria-hidden="true">&times;</span>
					</button>
					{{ message }}
				</div>
			</div>
		{% endfor %}
	{% endif %}
{% endwith %}


	<div class="col-lg-6">
		<div class="panel panel-default">
			<div class="panel-heading">Entry Data Vendor</div><!-- /.panel-heading -->
			<div class="panel-body">
				<form id="form" name="form" role="form" method="post" action="/dataVendor" enctype="multipart/form-data">
					{{ form.csrf_token }}
					{{ form.tx_id }}
					<div class="form-group">
						{{ form.tx_nama.label }} {{ form.tx_nama(class='form-control') }}
						{%for message in form.tx_nama.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						{{ form.tx_alamat.label }} {{ form.tx_alamat(class='form-control') }}
						{%for message in form.tx_alamat.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						{{ form.tx_telp.label }} {{ form.tx_telp(class='form-control') }}
						{%for message in form.tx_telp.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						{{ form.tx_email.label }} {{ form.tx_email(class='form-control') }}
						{%for message in form.tx_email.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						{{ form.tx_pemilik.label }} {{ form.tx_pemilik(class='form-control') }}
						{%for message in form.tx_pemilik.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						<button type="submit" class="btn btn-outline btn-primary btn-lg btn-block">Simpan</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<div class="row">	
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div class="panel-heading">Tabel Data Vendor</div><!-- /.panel-heading -->
			<div class="panel-body">

				<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
					<thead>
						<tr>
							<th>#</th>
							<th>Nama Perusahaan</th>
							<th>Alamat</th>
							<th>Telepon</th>
							<th>Email</th>
							<th>Pemilik</th>
							<th>Controller</th>
						</tr>
					</thead>
					<tbody>

					{% set cnt = [1] %}
					{% for row in data1 %}
					<tr class="odd gradeX">
						<td>{{ cnt[0] }}</td>
						<td>{{ row[1] }}</td>
						<td>{{ row[2] }}</td>
						<td>{{ row[3] }}</td>
						<td>{{ row[4] }}</td>
						<td>{{ row[5] }}</td>
						<td>
							<a href="/dataVendor?id={{ row[0] }}" class="btn-sm btn-warning btn-outline" title="Ubah"><i class="fa fa-pencil fa-fw"></i></a>
							<br/>
							<br/>
							<a href="/hapusVendor?id={{ row[0] }}" class="btn-sm btn-danger btn-outline" title="Hapus" ><i class="fa fa-times-circle-o fa-fw"></i></a>
						</td>
					</tr>
					{% if cnt.append(cnt.pop() + 1) %}{% endif %}
					{% endfor %}

					</tbody>
				</table>

			</div>
		</div>		
	</div>
</div>


<script type="text/javascript">
	/*console.log("Aplikasi pertama menggunakan flask python.");*/
    $(document).ready(function() {
        $('#dataTables-example').DataTable({
            responsive: true
        });
    });
</script>

{% endblock %}