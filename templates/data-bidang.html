{% extends 'layouts.html' %}

{% block title %}
	Data Bidang / Divisi
{% endblock %}

{% block body %}



<div class="row">	
<!--alert area -->
{% with messages = get_flashed_messages() %}
	{% if messages %}
		{% for message in messages %}
			<div class="col-lg-12">
				<div class="alert alert-warning alert-dismissable" role="alert">
					<button type="button" class="close" data-dismiss="alert" aria-label="close">
						<span aria-hidden="true">&times;</span>
					</button>
					{{ message }}
				</div>
			</div>
		{% endfor %}
	{% endif %}
{% endwith %}


	<div class="col-lg-4">
		<div class="panel panel-default">
			<div class="panel-heading">Entry Data Bidang</div><!-- /.panel-heading -->
			<div class="panel-body">
				<form id="form" name="form" role="form" method="post" action="/dataBidang" enctype="multipart/form-data">
					{{ form.csrf_token }}
					{{ form.tx_id }}
					<div class="form-group">
						{{ form.tx_nama.label }} {{ form.tx_nama(class='form-control') }}
						{%for message in form.tx_nama.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						{{ form.tx_ket.label }} {{ form.tx_ket(class='form-control') }}
						{%for message in form.tx_ket.errors%}<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>{{message}}</div>{%endfor%}
					</div>
					<div class="form-group">
						<button type="submit" class="btn btn-outline btn-primary btn-lg btn-block">Simpan</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<div class="col-lg-8">
		<div class="panel panel-default">
			<div class="panel-heading">Tabel Data Bidang</div><!-- /.panel-heading -->
			<div class="panel-body">

				<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
					<thead>
						<tr>
							<th>#</th>
							<th>Nama Bidang</th>
							<th>Keterangan</th>
							<th>Controller</th>
						</tr>
					</thead>
					<tbody>

					{% set cnt = [1] %}
					{% for row in data %}
					<tr class="odd gradeX">
						<td>{{ cnt[0] }}</td>
						<td>{{ row[1] }}</td>
						<td>{{ row[2] }}</td>
						<td>
							<a href="/dataBidang?id={{ row[0] }}" class="btn-sm btn-warning btn-outline btn-block" title="Ubah"><i class="fa fa-pencil fa-fw"></i></a>
							<a href="/hapusBidang?id={{ row[0] }}" class="btn-sm btn-danger btn-outline btn-block" title="Hapus" ><i class="fa fa-times-circle-o fa-fw"></i></a>
						</td>
					</tr>
					{% if cnt.append(cnt.pop() + 1) %}{% endif %}
					{% endfor %}

					</tbody>
				</table>

			</div>
		</div>
	</div>


</div>



<script type="text/javascript">
	/*console.log("Aplikasi pertama menggunakan flask python.");*/
    $(document).ready(function() {
        $('#dataTables-example').DataTable({
            responsive: true
        });
    });
</script>

{% endblock %}